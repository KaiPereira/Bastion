(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{9113:function(t,e,n){Promise.resolve().then(n.bind(n,7369))},7369:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var r=n(9268),a=n(9782),s=n(6006),o=n(6008),i=n(6946);function c(t){let{params:e}=t,{handleVerification:n,response:c,error:u}=(0,a.Z)(),l=(0,o.useRouter)();return(0,i.q)({error:u,success:c}),(0,s.useEffect)(()=>{n(e.userId,e.verificationToken),u?setTimeout(()=>{l.push("/")},3e3):c&&l.push("/login")},[c,u]),(0,r.jsx)(r.Fragment,{})}},1451:function(t,e,n){"use strict";n.d(e,{Am:function(){return f},pm:function(){return d}});var r=n(6006);let a=0,s=new Map,o=t=>{if(s.has(t))return;let e=setTimeout(()=>{s.delete(t),l({type:"REMOVE_TOAST",toastId:t})},1e6);s.set(t,e)},i=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:n}=e;return n?o(n):t.toasts.forEach(t=>{o(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===n||void 0===n?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},c=[],u={toasts:[]};function l(t){u=i(u,t),c.forEach(t=>{t(u)})}function f(t){let{...e}=t,n=(a=(a+1)%Number.MAX_VALUE).toString(),r=()=>l({type:"DISMISS_TOAST",toastId:n});return l({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:t=>{t||r()}}}),{id:n,dismiss:r,update:t=>l({type:"UPDATE_TOAST",toast:{...t,id:n}})}}function d(){let[t,e]=r.useState(u);return r.useEffect(()=>(c.push(e),()=>{let t=c.indexOf(e);t>-1&&c.splice(t,1)}),[t]),{...t,toast:f,dismiss:t=>l({type:"DISMISS_TOAST",toastId:t})}}},9782:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(6006),a=n(4214),s=n(2040);let o=s.env.NEXT_PUBLIC_API_URL||"http://localhost:5000",i=async(t,e)=>{try{let n=await a.Z.post("".concat(o,"/auth/register"),{email:t,password:e},{withCredentials:!0});return n}catch(t){throw t}},c=async(t,e)=>{try{let n=await a.Z.post("".concat(o,"/auth/login"),{email:t,password:e},{withCredentials:!0});return n}catch(t){throw t}},u=async()=>{try{let t=await a.Z.post("".concat(o,"/auth/logout"),{},{withCredentials:!0});return window.location.href="/",t}catch(t){throw t}},l=async(t,e)=>{try{let n=await a.Z.get("".concat(o,"/auth/verify/").concat(t,"/").concat(e));return n.data}catch(t){throw t}};var f=n(3111),d=()=>{let[t,e]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),s=async()=>{let t=await (0,f.u)(),e=t.data;return e};return{handleLogin:(t,n)=>{c(t,n).then(t=>{a("Successfully logged-in!")}).catch(t=>{e(t.response.data)})},handleLogout:()=>{u()},handleSignup:(t,n)=>{i(t,n).then(t=>{a("An email was sent to your inbox")}).catch(t=>{e(t.response.data)})},isSignedIn:s,error:t,response:n,handleVerification:(t,n)=>{l(t,n).then(t=>{a("Successfully verified your email, please login now!")}).catch(t=>{e(t.response.data)})}}}},6946:function(t,e,n){"use strict";n.d(e,{q:function(){return s}});var r=n(6006),a=n(1451);let s=t=>{let{error:e,success:n}=t;(0,r.useEffect)(()=>{e?(0,a.Am)({title:"Something went wrong.",description:e,variant:"destructive"}):n&&(0,a.Am)({title:"Success!",description:n,variant:"default"})},[n,e])}},3111:function(t,e,n){"use strict";n.d(e,{C:function(){return i},u:function(){return o}});var r=n(4214),a=n(2040);let s=a.env.NEXT_PUBLIC_API_URL||"http://localhost:5000",o=async()=>{try{let t=await r.Z.post("".concat(s,"/user/online"),{},{withCredentials:!0});return t}catch(t){throw t}},i=async(t,e)=>{try{let n=await r.Z.post("".concat(s,"/user/change-password"),{oldPassword:t,newPassword:e},{withCredentials:!0});return n.data}catch(t){throw t}}},3177:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6006),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,s={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(l=e.ref),e)o.call(e,r)&&!c.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:a,type:t,key:u,ref:l,props:s,_owner:i.current}}e.Fragment=s,e.jsx=u,e.jsxs=u},9268:function(t,e,n){"use strict";t.exports=n(3177)}},function(t){t.O(0,[355,253,698,744],function(){return t(t.s=9113)}),_N_E=t.O()}]);